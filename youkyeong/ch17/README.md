# Chapter17 생성자 함수에 의한 객체 생성

### Object 생성자 함수

- 생성자 함수란 new연산자와 함께 호출하여 인스턴스를 생성하는 함수
    
    ```
    //빈 객체의 생성
    const person= new Object();
    //이후 프로퍼티 || 메서드 추가 가능
    ```
    
- js는 Object 생성자 함수 이외에도 String, Array, RegExp, Promise등의 빌트인 생성자 함수를 제공
- 특별한 이유가 없다면 간편한 객체 리터럴을 통해 객체를 생성

### 생성자 함수

- 객체 리터럴에 의한 객체 생성 방식의 문제점
    - 단 하나의 객체만 생성
    - 프로퍼티의 구조가 동일한 경우에도 매번 같은 프로퍼티와 메서드를 기술해야함
- 생성자 함수에 의한 객체 생성 방식의 장점
    - 구조가 동일한 객체 여러개를 간편하게 생성 가능
    - this: 객체 자신의 프로퍼티나 메서드를 참조하기 위한 자기 참조 변수self-referencing variable
    - 형식이 정해져있지 않고, 일반 함수와 동일한 방법으로 생성자 함수를 정의하고 new연산자와 함께 호출시 생성자 함수로 동작
- 생성자 함수의 인스턴스 생성과정
    - 생성자 함수의 역할 : 인스턴스의 생성 및 초기화
    - new연산자와 생성자 함수 호출 시, js engine은 암묵적으로 아래 실행
        - 인스턴스 생성과 this 바인딩 (런타임 이전에 실행)
        - 인스턴스 초기화
        - 인스턴스 반환
- 내부 메서드 [[call]], [[construct]]
    - 함수는 객체이므로 일반 객체와 동일하게 동작, 내부 슬롯, 내부 메서드를 모두 갖음
    - 호출 가능하므로 추가로  내부 슬롯 [[Environment]], [[FormalParameters]]
    - 일반 함수로 호출 시 [[call]], new 연산자와 함께 생성자 함수로 호출 시[[construct]] 호출 됨
    - 호출이 안되는 객체는 함수객체 x
        - 호출 가능한 객체, 함수, callable
        - 생성자 함수로서 호출가능, constructor
        - 생성자 함수로서 호출할 수 없는 함수, non-constructor
- constructor와 non-constructor의 구분
    - 함수정의를 평가해서 방식에 따라 함수 객체 생성 시 구분
        - constructor : 함수 선언문, 함수 표현식, 클래스
        - non-constructor : 메서드(ES6), 화살표 함수
- new.target
    - this와 유사하게 constructor인 모든 함수 내부에는 암묵적인 지역변수같이 사용되며 메타 프로퍼티로 불림
    - 함수 내부의 new.target은 생성자 함수로 호출 시 함수 자신을 가리키며, 일반 함수로 호출시 undefined